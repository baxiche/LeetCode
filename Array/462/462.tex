\documentclass[12pt,a4paper,titlepage,AutoFakeBold]{article}
%設定頁面
\textwidth 170mm %文寬
%\textheight 260mm %文長
%\topsep -20mm \headsep -20mm %調整頁頭大小，可以是負值
%\hoffset -40pt
\usepackage{geometry}
\geometry{left=2cm=right,top=2.5cm=bottom}

%Typesetting

%about font shape
\usepackage{fontspec}
%\setmainfont{P22MayflowerPro}
\newcommand{\bt}[1]{%
    \begin{center}{\Large\textbf{#1}}\end{center}}
\newcommand{\bfit}[1]{%
    \textbf{\textit{#1}}}
\newcommand{\bfup}[1]{%
    \textbf{\textup{#1}}}
\newcommand{\mbf}[1]{%
    \textbf{\mathbf{#1}}}
\usepackage{type1cm}

\usepackage{xeCJK} 
\setCJKmainfont{DFKaiShu-SB-Estd-BF}
\newCJKfontfamily\Kai{DFKaiShu-SB-Estd-BF} 
\newCJKfontfamily\lie{STLibianTC-Regular}
\XeTeXlinebreaklocale "zh"   
\XeTeXlinebreakskip = 0pt plus 1pt %設定中文
%\renewcommand\contentsname{目錄}

\usepackage[shortlabels]{enumitem}
%\usepackage{enumerate}

%about section
%\renewcommand{\thesection}{\Roman{section}.} 
%\renewcommand{\thesubsection}{\Roman{subsection}.} 
\setcounter{section}{1}
\setcounter{subsection}{1}

%color
\usepackage[dvipsnames]{xcolor}
\definecolor{yel}{RGB}{240,200,90}
\definecolor{3b1bblue}{RGB}{106,177,198}
\definecolor{3b1bred}{RGB}{220,100,90}
\definecolor{Green}{RGB}{50,180,30}
%\pagecolor{backgroud}
%\color{black}

%縮排
\usepackage{indentfirst}
\parindent=0pt 

%頁首、尾文字
\usepackage{fancyhdr}
\pagestyle{fancy}
\chead{}
\lhead{}
\rhead{}
\lfoot{}
\cfoot{\thepage}
\rfoot{}
\newcommand{\fancy}[2]{%
    \lfoot{LECTURE #1. #2}\rhead{Lec #1}}
\renewcommand{\headrulewidth}{0pt} %上線寬
%\renewcommand{\footrulewidth}{0.4pt} %下線寬
%\renewcommand{\abstractname}{Executive Summary}
%\renewcommand{\chaptername}{}

% Math and some symbol
\usepackage{amsmath, amsthm, xfrac, amssymb}
\DeclareMathOperator{\Area}{Area}
\DeclareMathOperator{\grad}{grad}
\DeclareMathOperator{\curl}{curl}
\DeclareMathOperator{\ord}{ord}
\DeclareMathOperator{\Sp}{span}
\DeclareMathOperator{\nsp}{Null}
\DeclareMathOperator{\csp}{Col}
\DeclareMathOperator{\rsp}{Row}
\DeclareMathOperator{\rk}{rank}
\DeclareMathOperator{\nul}{nullity}
\DeclareMathOperator{\rref}{rref}
\DeclareMathOperator{\im}{Im}
\DeclareMathOperator{\diag}{diag}

\newcommand{\re}{\mathbb{R}}
\newcommand{\na}{\mathbb{N}}
\newcommand{\inte}{\mathbb{Z}}
\newcommand{\eucl}{\mathbb{E}}
\newcommand{\ra}{\mathbb{Q}}
\newcommand{\comp}{\mathbb{C}}
\newcommand{\rs}{{\color{red}$\star$}}
\newcommand{\normal}{\trianglelefteq}
\newcommand{\action}{\circlearrowright}



\usepackage{pifont}
\newcommand{\cmark}{\ding{51}}
\newcommand{\xmark}{\ding{55}}
\newcommand{\uxm}{\textup{\ding{55}}}
\newcommand{\cirnum}[1]{%
    \ding{\numexpr171+#1\relax}}
\newcommand{\Qed}{%
    \null\nobreak\hfill\ensuremath{\square}}

% defined integral
\newcommand{\Value}[1]{%
    \left.{#1}\phantom{\Big|}\right|}

%very nice
\usepackage{nicematrix}

\usepackage{cancel}
%\usepackage[thicklines]{cancel}
\newcommand{\Ccancel}[2][3b1bblue]{%
    \renewcommand\CancelColor{\color{#1}}\cancel{#2}}
\newcommand{\Dcancel}[2][red!70]{%
    \renewcommand\CancelColor{\color{#1}}\cancel{#2}}
\newcommand{\Ecancel}[2][black]{%
    \renewcommand\CancelColor{\color{#1}}\cancel{#2}}

\newcommand{\red}[1]{%
    {\color{red!70}{#1}}}

\usepackage{mathrsfs} %English Calligraphy
\usepackage{bm} % 數學粗體

\usepackage{soul}
\setul{0.5ex}{0.2ex}
\setulcolor{red}
% underline with red color

\usepackage{tikz,tikz-cd}
\tikzset{R/.style={circle, draw, white, fill=red!80, minimum size=10mm}}
\tikzset{B/.style={circle, draw, white, fill=black!80, minimum size=10mm}}
\tikzset{C/.style={circle, draw}}
\tikzset{
    level 1/.style={sibling distance=18em, level distance=3em},
    level 2/.style={sibling distance=5em, level distance=3em},
    level 3/.style={sibling distance=4em, level distance=3em},
}

\usepackage{mathtools}
%\newcommand{\verteq}{\rotatebox{90}{$\,=$}}
%\newcommand{\equalto}[2]{\underset{\scriptstyle\overset{\mkern4mu\verteq}{#2}}{#1}}
\newcommand{\veq}{\mathrel{\rotatebox{90}{$=$}}}
\newcommand{\vneq}{\mathrel{\rotatebox{90}{$\neq$}}}
\usepackage{extarrows} % arrow with text
\newcommand{\litrom}[1]{%
    \romannumeral#1}
\newcommand{\caprom}[1]{%
    \uppercase\expandafter{\romannumeral#1}}
%羅馬數字

\newtheorem{thm}{Theorem}
\newtheorem*{lemma}{Lemma}
\newtheorem{corollary}{Corollary}

\setcounter{page}{1}
%\pagenumbering{roman}
%\pagestyle{plain}
%設定頁碼

%simply box
\usepackage{varwidth}
\setlength{\fboxrule}{0.6pt}
\newcommand{\varbox}[1]{%
    \fbox{\varwidth{\linewidth}#1\endvarwidth}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcounter{prop} 
\setcounter{prop}{3}
\renewcommand{\theprop}{\arabic{prop}}
\newcommand{\prop}{%
    \refstepcounter{prop}{\bf{Proposition \theprop.}}}
\newcommand{\cor}{%
    \refstepcounter{prop}{\bfit{Corollary \theprop. }}}

%Throrem in the box
\usepackage[framemethod=TikZ]{mdframed}
%\mdtheorem{boxdef}{Defintion.}
%\newmdtheoremenv{boxx}[lemma]{Theorem}
%\newmdtheoremenv{lemo}{Lemma}
%\newmdenv{}{}
%Just a box
\newcounter{boxthm} 
\setcounter{boxthm}{0}
\renewcommand{\theboxthm}{\arabic{boxthm}}
\newenvironment{boxthm}[2][]{%
    \refstepcounter{boxthm}
    \mdfsetup{%
        innertopmargin=10pt,%
        innerbottommargin=10pt,%
        linecolor=black,%
        linewidth=0.6pt,topline=true,%
        frametitleaboveskip=\dimexpr-\ht\strutbox\relax}
    \begin{mdframed}
        \textbf{\textit{Theorem#1}}\it\relax%
        \label{#2}
    }{\end{mdframed}}

\newcounter{boxdef} 
\setcounter{boxdef}{0}
\renewcommand{\theboxdef}{\arabic{boxdef}}
\newenvironment{boxdef}[2][]{%
    \refstepcounter{boxdef}
    \mdfsetup{%
        innertopmargin=10pt,%
        innerbottommargin=10pt,%
        linecolor=black,%
        linewidth=0.6pt,topline=true,%
        frametitleaboveskip=\dimexpr-\ht\strutbox\relax
    }
    \begin{mdframed}
        \textbf{\textit{Definition \theboxdef#1}}\it\relax%
    \label{#2}
    }{\end{mdframed}}

\newenvironment{boxx}[1][]{%
    \mdfsetup{%
        innertopmargin=10pt,%
        innerbottommargin=10pt,%
        linecolor=black,%
        linewidth=0.6pt,topline=true,%
        frametitleaboveskip=\dimexpr-\ht\strutbox\relax}
    \begin{mdframed}\relax}{\end{mdframed}}
%%%%%%%%%%%%%%%%%%%%%

% Add graph
\usepackage{import}
\usepackage{xifthen}
\usepackage{pdfpages}
\usepackage{transparent}
\newcommand{\incfig}[1]{%
    \def\svgwidth{\columnwidth}
    \import{/Users/baxiche/Documents/LaTeX/Drawing/}{#1.pdf_tex}
}

\usepackage[titletoc]{appendix}
\renewcommand{\appendixpagename}{Appendix}
\renewcommand{\abstractname}{\textbf{摘要}}
\renewcommand{\contentsname}{\textbf{目錄}}
%\renewcommand{\bibname}{參考文獻}

\usepackage{hyperref}
\hypersetup{
    colorlinks=true,
    linkcolor=blue,
    filecolor=blue,      
    urlcolor=blue,
    citecolor=cyan,
}

%\usepackage[linesnumbered]{algorithm2e}
\usepackage{algorithm2e}
%\usepackage[noend]{algpseudocode}
\SetFuncSty{textsc}
\SetProgSty{textup}
\SetKw{Break}{break}
\SetKw{Conti}{continue}

\usepackage{xpatch}
\xpretocmd{\algorithm}{\hsize=\linewidth}{}{}

\usepackage{listings}
\definecolor{commentgreen}{RGB}{2,112,10}
\definecolor{eminence}{RGB}{108,48,130}
\definecolor{weborange}{RGB}{24,150,100}
%\definecolor{weborange}{RGB}{224,108,117}
\definecolor{frenchplum}{RGB}{129,20,83}

\lstset {
    language=c,
    frame=tb,
    tabsize=4,
    showstringspaces=false,
    numbers=left,
    %upquote=true,
    commentstyle=\color{commentgreen},
    keywordstyle=\color{eminence},
    stringstyle=\color{red},
    basicstyle=\small\ttfamily, % basic font setting
    emph={int,char,double,float,unsigned,void,bool},
    emphstyle={\color{blue}},
    % keyword highlighting
    classoffset=1, % starting new class
    otherkeywords={>,<,.,;,-,!,=,~},
    morekeywords={>,<,.,;,-,!,=,~},
    keywordstyle=\color{weborange},
    classoffset=0,
}

\title{DSA Hw 2}
\author{40840903S 蘇簡宏}
%\date{}
\begin{document}
\fontsize{12pt}{20pt}\selectfont
%\maketitle
The answer is a median of $nums[i]$.

\bfit{Proof.}\quad Suppose that \[
    M = \max \left\{nums[i]\ \Big|\ 1\leq i\leq n\right\} \textup{ and } m = \min \left\{nums[i]\ \Big|\ 1\leq i\leq n\right\}.
\]
We first prove that the answer lies in $[m, M]$. Let $t$ be a number that is less than $m$. Then there is $\varepsilon > 0$ such that $m = t + \varepsilon$. Hence 
\[
    \left|m - nums[i]\right| = \left| t + \varepsilon - nums[i]\right|\leq \left|t - nums[i]\right| + \left|\varepsilon - nums[i]\right|.
\]
Thus, $\left|m - nums[i]\right| < \left|t - nums[i]\right|$. So that $t$ is not the answer. Similarly, if $t > M$, then we have $\left|M - nums[i]\right| < \left|t - nums[i]\right|$. Therefore, the answer is lies in $[m, M]$.

Next, notice that for any $t \in [m, M]$, 
\[
    \left|t - m\right| + \left|t - M\right| = m - t + t - M = m - M,
\]
which is remain constant. Hence, we can remove all element of $nums$ that are equal to $m$ and $M$ since that will not change the answer. 

Now we obtained a new array $nums'$ from $nums$. By the above discussion, we have that the answer is lies in the minimum and the maximum of $nums'$. 

Continue this process, until the number of element in the new array is less or equal to $2$, say this array is $final\_nums$.
\begin{itemize}[noitemsep,topsep=0pt]
    \item If this number is $1$, then the answer is $final\_nums[1]$, since $final\_nums[1]$ is the number that minimize \[
        \left|x - final\_nums[1]\right| = \left|final\_nums[1] - final\_nums[1]\right| = 0
    \]
    \item If this number is $2$, then by the above discussion, for any number $x$ lies in $final\_nums[1]$ and $final\_nums[2]$ can be the answer since 
    \[
        \left|x - final\_nums[1]\right| = \left|x - final\_nums[2]\right|.
    \]
\end{itemize}
Finally, since for every step, we remove the minimum and maxium from $nums$, hence, the median can be a answer.
\end{document}
